<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="csspaginaprincipal.css">
    <link rel="stylesheet" href="paginatreinocss.css">
    <title>dieta</title>
</head>
<body>

<header class="header">
    <nav class="barra">
        <button class="bntlogo">
            <a href="csspaginaprincipal.html">
                <img src="WhatsApp-Image-2025-09-27-at-23.58.20copia.png" class="imglogo" alt="logo">
            </a>
        </button>
        <div class="divnavbartxt">
            <a href="csspaginaprincipal.html">
                <button class="bnttxt">home</button>
            </a>
            <a href="paginareceitacafeoulanches.html">
                <button class="bnttxt">receitas</button>
            </a>
            <a href="paginatreino.html">
                <button class="bnttxt">treinos</button>
            </a>
            <a href="paginanutricionistas.html">
                <button class="bnttxt">nutricionistas</button>
            </a>
        </div>
        <button class="bntperfil">
            <img class="persona" src="perfil.png" alt="perfil">
        </button>
    </nav>
</header>

<div id="espaçamento"></div>

<div class="box">
    <button class="bntdia"><div class="divdia">dom</div></button>
    <button class="bntdia"><div class="divdia">seg</div></button>
    <button class="bntdia"><div class="divdia">ter</div></button>
    <button class="bntdia"><div class="divdia">qur</div></button>
    <button class="bntdia"><div class="divdia">qui</div></button>
    <button class="bntdia"><div class="divdia">sex</div></button>
    <button class="bntdia"><div class="divdia">sab</div></button>
</div>

<div id="espaçamento2"></div>

<div class="box2">
    <div class="divcaloriaseafins">
        <p>déficit calórico<br>
        calorias diárias: 2500/2500
            <button class="bntimgmais"><img src="mais.png" alt="mais"></button>
        <br>
        proteínas diárias: 70g
            <button class="bntimgmais"><img src="mais.png" alt="mais"></button>
        </p> 
    </div>
</div>


<div class="box">
    <div class="divalimentos-container" id="alimentos-container">

    </div>
</div>

<div class="boxverificardias">
    <button id="bntverificardia">verificar dia
        <img src="verificar.png" id="imgverificar1" alt="verificar">
    </button>
</div>

<div class="divfooter">
    <div class="divoferecemos">
        <p class="ptitulo">O que oferecemos</p><br>
        <p class="ptexto">A NutriUp busca entregar <br>o melhor serviço de dieta<br> e treino possível para o usuário, <br>sempre pensando em suas questões pessoais, <br>como seu tempo e prioridades</p>
    </div>
    <div class="divoferecemos">
        <p class="ptitulo">contatos</p><br>
        <p class="ptexto">
            telefone<button class="bntcontatos"><img src="telefone.png" alt="telefone"></button><br>
            email<button class="bntcontatos"><img src="e-mail.png" alt="email"></button><br>
            instagram<button class="bntcontatos"><img src="logotipo-do-instagram.png" alt="instagram"></button><br>
            whatsapp<button class="bntcontatos"><img src="whatsapp.png" alt="whatsapp"></button>
        </p>
    </div>
</div>

<div class="divlinha"></div>
      
<footer class="footer">
    <p class="ptxtfinal">© 2025 Nutri Up - ETEC Polivalente Americana - A dieta personalizada que você precisa</p>
</footer>

<script>

const SLOTS_CONFIG = [
    { key: 'slot1', empty: true },
    { key: 'slot2', empty: true },
    { key: 'slot3', empty: true }
];

function criarRetanguloVazio() {
    const retangulo = document.createElement("div");
    retangulo.className = "card-alimento-vazio";
    
    const btnAdicionar = document.createElement("button");
    btnAdicionar.className = "bntmaispreto";
    btnAdicionar.innerHTML = '<img class="maispreto" src="maispreto.png" alt="mais">';
    btnAdicionar.addEventListener("click", () => {
        window.location.href = "paginareceitacafeoulanches.html";
    });
    
    retangulo.appendChild(btnAdicionar);
    return retangulo;
}

function criarRetanguloPreenchido(prato, slotKey) {
    const retangulo = document.createElement("div");
    retangulo.className = "divalimentos";

    const btnRemover = document.createElement("button");
    btnRemover.className = "bntremover-fixo";
    btnRemover.innerHTML = '<img src="sinal-de-menos.png" alt="menos">';
    btnRemover.addEventListener("click", () => {
        localStorage.removeItem(slotKey);
        carregarRetangulos();
    });
    

    const btnTroca = document.createElement("button");
    btnTroca.className = "bnttroca-fixo";
    btnTroca.innerText = "troca";
    btnTroca.addEventListener("click", () => {
        localStorage.removeItem(slotKey);
        window.location.href = "paginareceitacafeoulanches.html";
    });
    

    const content = document.createElement("div");
    content.className = "prato-preenchido";
    
    const img = document.createElement("img");
    img.src = prato.imagem;
    img.alt = prato.nome;
    
    const info = document.createElement("div");
    info.className = "prato-info";
    
    const pNome = document.createElement("p");
    pNome.innerText = prato.nome;
    pNome.style.margin = "0";
    pNome.style.fontWeight = "bold";
    pNome.style.fontSize = "16px";
  
    
    info.appendChild(pNome);
    content.appendChild(img);
    content.appendChild(info);
    
    retangulo.appendChild(btnRemover);
    retangulo.appendChild(btnTroca);
    retangulo.appendChild(content);
    
    return retangulo;
}

function carregarRetangulos() {
    const container = document.getElementById("alimentos-container");
    container.innerHTML = "";
    

    const slotsVazios = SLOTS_CONFIG.filter(slot => !localStorage.getItem(slot.key));
    

    if (slotsVazios.length === 0) {
        SLOTS_CONFIG.forEach(slot => {
            const dados = localStorage.getItem(slot.key);
            if (dados) {
                const prato = JSON.parse(dados);
                const retangulo = criarRetanguloPreenchido(prato, slot.key);
                container.appendChild(retangulo);
            }
        });
    } else {

        SLOTS_CONFIG.forEach(slot => {
            const dados = localStorage.getItem(slot.key);
            if (dados) {
                const prato = JSON.parse(dados);
                const retangulo = criarRetanguloPreenchido(prato, slot.key);
                container.appendChild(retangulo);
            } else {

                const retangulo = criarRetanguloVazio();
                container.appendChild(retangulo);
            }
        });
    }
}

document.addEventListener("DOMContentLoaded", carregarRetangulos);
</script>

</body>
</html>
